{
    "task_description": "當使用者主動提及他有預約醫生門診，想先行評估自己的眼睛情況。或是使用者說明他是第一次看醫生(還沒看過醫生)。或是使用者提及他視力有明顯變化。",
    "subtask_descriptions": [
        
        {
            "check_eye_diseases": {
                "import_subtask_module": "condition_judge_module",
                "user_define_info": {
                    "subtask_intention": "從與使用者對話過程，參考給定的常見眼睛疾病症狀，判斷使用者是否有提及眼睛相關症狀。\n輸出是或否的同時，也給出你是怎麼做推論判斷的理由以及哪些症狀",
                    "condition_judge_info": "/workspace/app/SOP_module/judge_docs/common_eye_diseases_symptom.txt",
                    "judge_result_format": "請依找以下json格式輸出:\n{\n\"提及眼睛症狀\": \"有/無\",\n\"推論判斷理由與眼睛症狀\": \"...\" }",


                    "require_infos": {
                        "提及眼睛症狀": "判斷使用者是否有提及眼睛相關症狀，欄位名稱\"提及眼睛症狀\""
                    },
                    "options": {
                        "提及眼睛症狀": [
                            "有",
                            "無"
                        ]
                    },
                
                    "output_infos": {
                        "提及眼睛症狀": [
                            "有",
                            "無"
                        ]
                    },

                    "input_info": {
                        "": [ "提及眼睛症狀" ],
                        "opt_request_eye_diseases": [ "提及眼睛症狀" ]
                    },

                    "next_subtask": {
                        "": {
                            "有": "check_symptom_time",
                            "無": "opt_request_eye_diseases"
                        },

                        "opt_request_eye_diseases": {
                            "有": "check_symptom_time",
                            "無": "opt_request_eye_diseases"
                        }
                    },
                    "next_tasks": []                    
                }
            },

            "opt_request_eye_diseases": {
                "import_subtask_module": "output_wait_msg_module",
                "user_define_info": {
                    "subtask_intention": "向使用者請求詢問其眼睛相關症狀(哪裡不舒服)",
                    "output_msg_info": "您好，接下來將為您進行初步診斷，最近您的眼睛有什麼不舒服的地方嗎？請盡可能詳細的告訴我，以便更好的幫助您找出原因，確保您的視力健康！，欄位名稱\"提及眼睛症狀\"",
                    "input_info": {
                        "check_eye_diseases": [ "提及眼睛症狀" ]
                    },

                    "next_subtask": {
                        "check_eye_diseases": {
                            "無": "check_eye_diseases"
                        }
                    },
                    "next_tasks": []   
                }
            },

            "check_symptom_time": {
                "import_subtask_module": "condition_judge_module",
                "user_define_info": {
                    "subtask_intention": "從與使用者對話過程，與給定的判斷規則，判斷使用者是否有提及眼睛相關症狀持續多久時間。\n輸出是或否的同時，也給出你是怎麼做推論判斷的理由以及症狀持續多久",
                    "condition_judge_info": "",
                    "judge_result_format": "請依找以下json格式輸出:\n{\n\"提及症狀持續時間\": \"是/否\",\n\"推論判斷理由與症狀持續多久\": \"...\" }",


                    "require_infos": {
                        "提及症狀持續時間": "判斷使用者是否有提及眼睛相關症狀，欄位名稱\"提及症狀持續時間\""
                    },
                    "options": {
                        "提及症狀持續時間": [
                            "是",
                            "否"
                        ]
                    },
                
                    "output_infos": {
                        "提及症狀持續時間": [
                            "是",
                            "否"
                        ]
                    },

                    "input_info": {
                        "check_eye_diseases": [ "提及症狀持續時間" ],
                        "opt_request_symptom_time": [ "提及症狀持續時間" ]
                    },

                    "next_subtask": {
                        "check_eye_diseases": {
                            "是": "check_one_or_two_eye",
                            "否": "opt_request_symptom_time"
                        },

                        "opt_request_symptom_time": {
                            "是": "check_one_or_two_eye",
                            "否": "opt_request_symptom_time"
                        }
                    },
                    "next_tasks": []                    
                }
            },
            
            "opt_request_symptom_time": {
                "import_subtask_module": "output_wait_msg_module",
                "user_define_info": {
                    "subtask_intention": "向使用者請求詢問其眼睛相關症狀(哪裡不舒服)持續多久",
                    "output_msg_info": "您剛剛提到的眼睛不適的症狀，大約持續多久了呢？請您回想看看，大約是最近才發生，還是已經持續一陣子呢？，欄位名稱\"提及症狀持續時間\"",
                    "input_info": {
                        "check_symptom_time": [ "提及症狀持續時間" ]
                    },

                    "next_subtask": {
                        "check_symptom_time": {
                            "否": "check_symptom_time"
                        }
                    },
                    "next_tasks": []   
                }
            },

            "check_one_or_two_eye": {
                "import_subtask_module": "condition_judge_module",
                "user_define_info": {
                    "subtask_intention": "從與使用者對話過程，與給定的判斷規則，判斷使用者是否有提及眼睛相關症狀是發生在單眼(左眼、右眼)還是雙眼。\n輸出提及單眼或雙眼是或否的同時，也給出你是怎麼做推論判斷的理由以及推論判斷理由與發生在單眼還雙眼，如只說眼睛請判斷為未提及",
                    "condition_judge_info": "",
                    "judge_result_format": "請依找以下json格式輸出:\n{\n\"提及單眼或雙眼\": \"是/否\",\n\"推論判斷理由與症狀發生在單眼還雙眼\": \"...\" }",


                    "require_infos": {
                        "提及單眼或雙眼": "判斷使用者是否有提及眼睛相關症狀，欄位名稱\"提及單眼或雙眼\""
                    },
                    "options": {
                        "提及單眼或雙眼": [
                            "是",
                            "否"
                        ]
                    },
                
                    "output_infos": {
                        "提及單眼或雙眼": [
                            "是",
                            "否"
                        ]
                    },

                    "input_info": {
                        "check_symptom_time": [ "提及單眼或雙眼" ]
                    },

                    "next_subtask": {
                        "check_symptom_time": {
                            "是": "check_vision_worse_or_not",
                            "否": "opt_request_one_or_two_eye"
                        }
                    },
                    "next_tasks": []                    
                }
            },

            "opt_request_one_or_two_eye": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "向使用者請求詢問其眼睛相關症狀(哪裡不舒服)發生在單眼(左眼、右眼)還是雙眼，欄位名稱\"症狀單眼或雙眼\"",
                    "require_infos": {
                        "症狀單眼或雙眼": "您的眼睛不適症狀，是發生在一隻眼睛，還是兩隻眼睛都有呢？，欄位名稱\"症狀單眼或雙眼\""
                    },
                    "options": {
                        "症狀單眼或雙眼": [
                            "單眼(左眼)",
                            "單眼(右眼)",
                            "雙眼"
                        ]
                    },
                
                    "output_infos": {
                        "症狀單眼或雙眼": [
                            "單眼(左眼)",
                            "單眼(右眼)",
                            "雙眼"
                        ]
                    },
                    "input_info": {
                        "check_one_or_two_eye": [ "症狀單眼或雙眼" ]
                    },
                    "next_subtask": {
                       "check_one_or_two_eye": {
                            "單眼(左眼)": "check_vision_worse_or_not",
                            "單眼(右眼)": "check_vision_worse_or_not",
                            "雙眼": "check_vision_worse_or_not"
						}
                    },
                    "next_tasks": []                
                }
            },

            "check_vision_worse_or_not": {
                "import_subtask_module": "condition_judge_module",
                "user_define_info": {
                    "subtask_intention": "從與使用者對話過程，與給定的判斷規則，判斷使用者是否有提及眼睛視力變差。\n輸出是或否的同時，也給出你是怎麼做推論判斷的理由以及推論判斷理由與眼睛視力有無變差",
                    "condition_judge_info": "",
                    "judge_result_format": "請依找以下json格式輸出:\n{\n\"提及眼睛視力變差\": \"是/否\",\n\"推論判斷理由與眼睛視力有無變差\": \"...\" }",


                    "require_infos": {
                        "提及眼睛視力變差": "判斷使用者是否有提及眼睛相關症狀，欄位名稱\"提及眼睛視力變差\""
                    },
                    "options": {
                        "提及眼睛視力變差": [
                            "是",
                            "否"
                        ]
                    },
                
                    "output_infos": {
                        "提及眼睛視力變差": [
                            "是",
                            "否"
                        ]
                    },

                    "input_info": {
                        "check_one_or_two_eye": [ "提及眼睛視力變差" ],
                        "opt_request_one_or_two_eye":  [ "提及眼睛視力變差" ]
                    },

                    "next_subtask": {
                        "check_one_or_two_eye": {
                            "是": "check_already_know_eye_disease",
                            "否": "opt_request_vision_worse_or_not"
                        },

                        "opt_request_one_or_two_eye": {
                            "是": "check_already_know_eye_disease",
                            "否": "opt_request_vision_worse_or_not"
                        }
                    },
                    "next_tasks": []                    
                }
            },

            "opt_request_vision_worse_or_not": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "向使用者請求詢問其眼睛是否出現眼睛視力變差的情況，欄位名稱\"眼睛視力變差\"",
                    "require_infos": {
                        "眼睛視力變差": "您最近有覺得視力變差嗎？您可以參考以下常見情況\n注意: 1.看東西變得模糊\n2.戴眼鏡後還是看不清楚\n3.視力時好時壞\n4.眼睛易疲勞，看久更模糊"
                    },
                    "options": {
                        "眼睛視力變差": [
                            "是",
                            "否"
                        ]
                    },
                
                    "output_infos": {
                        "眼睛視力變差": [
                            "是",
                            "否"
                        ]
                    },
                    "input_info": {
                        "check_vision_worse_or_not": [ "眼睛視力變差" ]
                    },
                    "next_subtask": {
                       "check_vision_worse_or_not": {
                            "是": "check_already_know_eye_disease",
                            "否": "check_already_know_eye_disease"
						}
                    },
                    "next_tasks": []                
                }
            },

            "check_already_know_eye_disease": {
                "import_subtask_module": "condition_judge_module",
                "user_define_info": {
                    "subtask_intention": "請根據與使用者的對話內容及給定的判斷規則，判斷使用者是否提及過眼睛已有的已知疾病。輸出結果應包含：\n判斷結果（是或否）；\n推論判斷的理由（例如：若使用者明確表示「沒有」或「不知道」，則仍輸出提及眼睛過去有無已知的疾病為「是」，不是「否」）\n如有提及，請標明該疾病的具體名稱或相關說明",
                    "condition_judge_info": "/workspace/app/SOP_module/judge_docs/already_know_common_disease.txt",
                    "judge_result_format": "請依找以下json格式輸出:\n{\n\"提及眼睛過去有無已知的疾病\": \"是/否\",\n\"推論判斷理由與眼睛過去是否有無已知疾病\": \"...\" }",


                    "require_infos": {
                        "提及眼睛過去有無已知的疾病": "判斷使用者是否有提及其眼睛過去有的已知的疾病，欄位名稱\"提及眼睛過去有無已知的疾病\""
                    },
                    "options": {
                        "提及眼睛過去有無已知的疾病": [
                            "是",
                            "否"
                        ]
                    },
                
                    "output_infos": {
                        "提及眼睛過去有無已知的疾病": [
                            "是",
                            "否"
                        ]
                    },

                    "input_info": {
                        "check_vision_worse_or_not": [ "提及眼睛過去有無已知的疾病" ],
                        "opt_request_vision_worse_or_not": [ "提及眼睛過去有無已知的疾病" ],
                        "opt_request_know_eye_disease":  [ "提及眼睛過去有無已知的疾病" ]
                    },

                    "next_subtask": {
                        "check_vision_worse_or_not": {
                            "是": "check_family_eye_disease",
                            "否": "opt_request_know_eye_disease"
                        },

                        "opt_request_vision_worse_or_not": {
                            "是": "check_family_eye_disease",
                            "否": "opt_request_know_eye_disease"
                        },

                        "opt_request_know_eye_disease": {
                            "是": "check_family_eye_disease",
                            "否": "opt_request_know_eye_disease"
                        }
                    },
                    "next_tasks": []                    
                }
            },

            "opt_request_know_eye_disease": {
                "import_subtask_module": "output_wait_msg_module",
                "user_define_info": {
                    "subtask_intention": "向使用者請求詢問其是否有眼睛過去有的已知的疾病",
                    "output_msg_info": "您過去有診斷過任何眼睛的問題或疾病嗎？\n如曾經得過白內障、青光眼或視網膜疾病等等。，欄位名稱\"提及眼睛過去有無已知的疾病\"",
                    "input_info": {
                        "check_already_know_eye_disease": [ "提及眼睛過去有無已知的疾病" ]
                    },

                    "next_subtask": {
                        "check_already_know_eye_disease": {
                            "否": "check_already_know_eye_disease"
                        }
                    },
                    "next_tasks": []   
                }
            },


            "check_family_eye_disease": {
                "import_subtask_module": "condition_judge_module",
                "user_define_info": {
                    "subtask_intention": "請根據與使用者的對話內容及給定的判斷規則，判斷使用者是否提及其家人有無眼睛相關疾病。\n輸出結果應包含：\n判斷結果（是或否）\n推論判斷的理由（例如：若使用者明確表示「沒有」或「不知道」或「不確定」，也視為已提及家人是否有眼疾的信息，即輸出提及家人眼睛相關疾病為「是」）\n如有提及，請標明該疾病或說明家人是否有眼疾；若回答「沒有」亦需記錄。\n",
                    "condition_judge_info": "/workspace/app/SOP_module/judge_docs/already_know_family_disease.txt",
                    "judge_result_format": "請依找以下json格式輸出:\n{\n\"提及家人眼睛相關疾病\": \"是/否\",\n\"推論判斷理由與使用者家人是否有眼睛相關疾病\": \"...\" }",


                    "require_infos": {
                        "提及家人眼睛相關疾病": "判斷使用者是否有提及其家人是否有眼睛相關疾病，欄位名稱\"提及家人眼睛相關疾病\""
                    },
                    "options": {
                        "提及家人眼睛相關疾病": [
                            "是",
                            "否"
                        ]
                    },
                
                    "output_infos": {
                        "提及家人眼睛相關疾病": [
                            "是",
                            "否"
                        ]
                    },

                    "input_info": {
                        "check_already_know_eye_disease": [ "提及家人眼睛相關疾病" ],
                        "opt_request_family_eye_disease": [ "提及家人眼睛相關疾病" ]
                    },

                    "next_subtask": {
                        "check_already_know_eye_disease": {
                            "是": "check_eye_operate_or_not",
                            "否": "opt_request_family_eye_disease"
                        },

                        "opt_request_family_eye_disease": {
                            "是": "check_eye_operate_or_not",
                            "否": "opt_request_family_eye_disease"
                        }
                    },
                    "next_tasks": []                    
                }
            },

            "opt_request_family_eye_disease": {
                "import_subtask_module": "output_wait_msg_module",
                "user_define_info": {
                    "subtask_intention": "向使用者請求詢問其家人是否有眼睛相關疾病",
                    "output_msg_info": "請問您的家人當中，有人曾經被診斷過眼睛相關的疾病嗎？\n有些眼睛疾病可能與遺傳有關，如果家族中有人曾經有眼疾(如青光眼、白內障、高度近等等)或視遺傳性眼疾(如色盲)，您的風險可能會比較高，我們可以提早注意。，欄位名稱\"提及家人眼睛相關疾病\"",
                    "input_info": {
                        "check_family_eye_disease": [ "提及家人眼睛相關疾病" ]
                    },

                    "next_subtask": {
                        "check_family_eye_disease": {
                            "否": "check_family_eye_disease"
                        }
                    },
                    "next_tasks": []   
                }
            },

            "check_eye_operate_or_not": {
                "import_subtask_module": "condition_judge_module",
                "user_define_info": {
                    "subtask_intention": "請根據與使用者的對話內容及給定的判斷規則，判斷使用者是否提及其眼睛是否先前曾做過手術（開過刀）。\n輸出結果應包含：\n判斷結果：是或否。\n推論判斷理由：說明依據使用者的回答內容來判斷是否有提及，例如：\n若使用者明確表示「有開過」、「做過手術」等，即判斷為「是」，並標明手術種類（如白內障手術、雷射手術等）。\n若使用者表示「沒有」或「不知道」或不確定，也視為已提及過先前手術的相關信息，則判斷為「是」，並記錄其回答內容（例如「沒有開過手術」）。\n詳細說明：如果使用者有提及，請說明具體做過哪些手術；若回答「沒有」，也需記錄下此回答。\n",
                    "condition_judge_info": "/workspace/app/SOP_module/judge_docs/common_eye_operate.txt",
                    "judge_result_format": "請依找以下json格式輸出:\n{\n\"提及先前是否開過刀\": \"是/否\",\n\"推論判斷理由與使用者先前眼睛是否有開過刀\": \"...\" }",


                    "require_infos": {
                        "提及先前是否開過刀": "判斷使用者是否有提及其眼睛是否先前有開過刀(即做過手術)，欄位名稱\"提及先前是否開過刀\""
                    },
                    "options": {
                        "提及先前是否開過刀": [
                            "是",
                            "否"
                        ]
                    },
                
                    "output_infos": {
                        "提及先前是否開過刀": [
                            "是",
                            "否"
                        ]
                    },

                    "input_info": {
                        "check_family_eye_disease": [ "提及先前是否開過刀" ],
                        "opt_request_eye_operate_or_not": [ "提及先前是否開過刀" ]
                    },

                    "next_subtask": {
                        "check_family_eye_disease": {
                            "是": "check_eye_medicine_or_not",
                            "否": "opt_request_eye_operate_or_not"
                        },

                        "opt_request_eye_operate_or_not": {
                            "是": "check_eye_medicine_or_not",
                            "否": "opt_request_eye_operate_or_not"
                        }
                    },
                    "next_tasks": []                    
                }
            },

            "opt_request_eye_operate_or_not": {
                "import_subtask_module": "output_wait_msg_module",
                "user_define_info": {
                    "subtask_intention": "向使用者請求詢問其眼睛先前是否有開過刀(即做過手術)",
                    "output_msg_info": "您之前有做過眼睛手術嗎？\n以下為一些常見的眼睛手術，如白內障手術、近視矯正手術、視網膜剝離/病變手術、青光眼相關手術、角膜移植手術等等。\n請您盡可能詳細描述，由於有些眼睛手術會影響視力或後續治療，了解您的手術紀錄，可以幫助我們提供更好的照護，欄位名稱\"提及先前是否開過刀\"",
                    "input_info": {
                        "check_eye_operate_or_not": [ "提及先前是否開過刀" ]
                    },

                    "next_subtask": {
                        "check_eye_operate_or_not": {
                            "否": "check_eye_operate_or_not"
                        }
                    },
                    "next_tasks": []   
                }
            },

            "check_eye_medicine_or_not": {
                "import_subtask_module": "condition_judge_module",
                "user_define_info": {
                    "subtask_intention": "請根據與使用者的對話內容及給定的判斷規則，判斷使用者是否有提及正在使用眼睛相關藥物或可能影響眼睛的藥物。\n輸出結果應包含：\n1. 判斷結果：是 或 否。\n2. 推論判斷理由：說明根據使用者的回答內容來判斷是否有提及用藥，例如：\n若使用者明確表示「有在使用某某藥物」，則判斷為「是」，並標明具體藥物名稱。\n若使用者表示「沒有」、「不確定」或「不知道」，也視為已提及相關資訊，則判斷\"提及是否使用藥物\"為「是」，並記錄下使用者的回覆內容。\n3. 詳細說明：如有提及，請具體說明正在使用的藥物；若使用者回答「沒有」，也需記錄該回覆。\n",
                    "condition_judge_info": "/workspace/app/SOP_module/judge_docs/common_eye_medicine.txt",
                    "judge_result_format": "請依找以下json格式輸出:\n{\n\"提及是否使用藥物\": \"是/否\",\n\"推論判斷理由與使用者是否有在使用藥物\": \"...\" }",


                    "require_infos": {
                        "提及是否使用藥物": "判斷使用者是否有提及其有在使用眼睛相關藥物或會可能會影響眼睛的藥物，欄位名稱\"提及使用藥物\""
                    },
                    "options": {
                        "提及是否使用藥物": [
                            "是",
                            "否"
                        ]
                    },
                
                    "output_infos": {
                        "提及是否使用藥物": [
                            "是",
                            "否"
                        ]
                    },

                    "input_info": {
                        "check_eye_operate_or_not": [ "提及是否使用藥物" ],
                        "opt_request_eye_medicine_or_not": [ "提及是否使用藥物" ]
                    },

                    "next_subtask": {
                        "check_eye_operate_or_not": {
                            "是": "do_rag_diagnosis",
                            "否": "opt_request_eye_medicine_or_not"
                        },

                        "opt_request_eye_medicine_or_not": {
                            "是": "do_rag_diagnosis",
                            "否": "opt_request_eye_medicine_or_not"
                        }
                    },
                    "next_tasks": []                    
                }
            },

            "opt_request_eye_medicine_or_not": {
                "import_subtask_module": "output_wait_msg_module",
                "user_define_info": {
                    "subtask_intention": "向使用者請求詢問其是否有在使用眼睛相關藥物或會可能會影響眼睛的藥物",
                    "output_msg_info": "您最近有在使用任何眼藥水或其他可能影響眼睛的藥物嗎？？以下是台北榮總醫院常見的眼科用藥:\n \n1️⃣ 降眼壓藥（青光眼治療） – 減少房水生成或增加排出\n* Lumigan PF (Bimatoprost)\n* Bimatoprost\n* Simbrinza (Brinzolamide + Brimonidine)\n\n2️⃣ 人工淚液（眼睛保濕） – 滋潤眼睛，緩解乾澀\n* Optive fusion\n* Tears Naturale \"PAY\"\n* Duasorb \"PAY\"\n\n3️⃣ 抗生素（眼部感染治療） – 殺菌消炎，治療細菌感染\n* Sulmezole\n* Sulfamethoxazole \"M\"\n* Chlorhexidine\n\n4️⃣ 類固醇（抗炎藥） – 減少發炎反應\n* Rinderon-A\n* Eye Betason-N\n\n5️⃣ 散瞳劑（睫狀肌麻痺） – 放鬆睫狀肌，治療近視或眼疾檢查用\n* Tropine\n* Atropine \"M\"\n* Kintropine\n\n如果您有在使用，請讓我知道，這樣可以幫助我們提供更好的建議！，欄位名稱\"提及是否使用藥物\"",
                    "input_info": {
                        "check_eye_medicine_or_not": [ "提及是否使用藥物" ]
                    },

                    "next_subtask": {
                        "check_eye_medicine_or_not": {
                            "否": "check_eye_medicine_or_not"
                        }
                    },
                    "next_tasks": []   
                }
            },


            "do_rag_diagnosis": {
                "import_subtask_module": "rag_module",
                "user_define_info":{
                    "subtask_intention": "請根據使用者對話過程中提及的眼睛症狀、症狀持續時間、症狀發生在單眼(左眼、右眼)還雙眼、視力有無變差、眼睛過去有無已知的疾病、是否有家族遺傳疾病、是否眼睛做過手術、以及是否使用藥物等資訊，向使用者說明：\n1. 請詳細列出這些症狀可能為什麼疾病(所有可能請都列出)與說明與如何解決改善，若有可能為白內障，請詳細說明原因以及哪些症狀讓你這樣判斷，並建議使用者進一步就醫檢查，必要時可能會需要手術移除老化的水晶體並植入新的人工水晶體。\n2. 不要過度重複先前的對話內容 3. 若出現疾病或專業術語請也附上英文，如老花眼（Presbyopia）、眼睛疲勞（Asthenopia）等 \n4. 參考以下描述，根據症狀和病史說明應該就診的醫療單位，並解釋理由，若症狀能在一般診所解決請不要到醫學中心門診\n\n**一般診所**（適合輕微、非緊急的眼睛問題）\n\n適用情況：\n1. 眼睛不適但未影響視力，且症狀輕微或慢性。\n2. 需要初步檢查、配藥或追蹤，但無明顯視力損害或劇烈疼痛。\n\n常見症狀舉例：\n✅ 乾眼症（眼睛乾澀、異物感，長時間用眼後視力模糊\n✅ 結膜炎（眼睛發紅、有分泌物、搔癢，但沒有劇烈疼痛）\n✅ 過敏性眼疾（換季時眼睛癢、紅、流淚）\n✅ 輕度眼瞼炎或麥粒腫（眼皮局部腫脹、紅痛，但不影響視力）\n✅ 輕度視力問題（近視、遠視、老花眼度數增加，需要驗光或換眼鏡）\n\n**醫學中心門診**（適合較複雜、需進一步檢查或專科評估的情況）\n適用情況：\n1. 影響視力的症狀，但不是急性或嚴重惡化。\n2. 需要進階設備檢查（如視網膜檢查、黃斑部檢查、視野測試）。\n3. 慢性或進行性惡化的眼疾 需要眼科專科醫師評估與治療。\n\n常見症狀舉例：\n🔸 白內障（視力逐漸模糊、對比敏感度下降，夜間視力變差）\n🔸 青光眼（慢性）（視野慢慢縮小，但沒有明顯疼痛）\n🔸 黃斑部病變（視力中央區域模糊、扭曲，但無劇烈疼痛）\n🔸 糖尿病視網膜病變（有糖尿病病史，視力逐漸下降，或眼底出血）\n🔸 持續性飛蚊症（眼前黑影飄動，但沒有突然惡化或伴隨閃光）\n🔸 角膜或視網膜問題（醫生建議定期追蹤）\n\n**急診**（適合緊急、快速惡化或有危險的眼科狀況）\n適用情況：\n1. 突然視力急遽下降或完全喪失。\n2. 劇烈眼痛、眼壓急遽升高。\n3. 嚴重外傷、出血、化學性灼傷或異物進入眼睛。\n4. 眼球突出、眼內大量出血、眼球破裂。\n\n常見症狀舉例：\n⚠ 急性青光眼發作（劇烈眼痛、頭痛、視力急劇下降，眼壓極高）\n⚠ 視網膜剝離（突然有大片黑影遮住視野、伴隨閃光）\n⚠ 眼球外傷（被異物刺傷、眼睛腫脹變形、眼球流血）\n⚠ 化學性灼傷（誤入強酸、強鹼等化學物質，應立即沖水並送醫）\n⚠ 急性視網膜動脈阻塞（突然單眼失明，類似中風的狀況）\n⚠ 眼內感染（眼內炎）（術後眼睛劇烈疼痛、腫脹、視力急速下降）",
                    "require_infos": {
                        "check_eye_medicine_or_not": [ 
                            "推論判斷理由與眼睛症狀",
                            "推論判斷理由與症狀持續多久",
                            "推論判斷理由與症狀發生在單眼還雙眼",
                            "症狀單眼或雙眼",
                            "推論判斷理由與眼睛視力有無變差",
                            "眼睛視力變差",
                            "推論判斷理由與眼睛過去是否有無已知疾病",
                            "推論判斷理由與使用者家人是否有眼睛相關疾病",
                            "推論判斷理由與使用者先前眼睛是否有開過刀",
                            "推論判斷理由與使用者是否有在使用藥物"
                         ]
                    },
                    "input_info": {
                        "check_eye_medicine_or_not": [ "" ]
                    },
                    "next_subtask": {
                        "check_eye_medicine_or_not": {
                            "": "check_has_cataract_or_not"
                        }
                    },
                    "next_tasks": [] 
                }
                
            },


            "check_has_cataract_or_not": {
                "import_subtask_module": "condition_judge_module",
                "user_define_info": {
                    "subtask_intention": "從與使用者對話過程，與給定的判斷規則，判斷使用者是否可能患有白內障，輸出是或否的同時，也給出你是怎麼做推論判斷的理由，判斷理由請以對病人的語氣解釋說明(不用太多內容)，若有可能為白內障，可能會需要使用人工晶體，不是則簡單說明原因。\"是否患有白內障\"只能輸出是或否，不要可能是或有可能，有2-3種症狀請判斷為是，如只有一種或沒有則否",
                    "condition_judge_info": "/workspace/app/SOP_module/judge_docs/cataract_judge_rule.txt",
                    "judge_result_format": "請依找以下json格式輸出:\n{\n\"是否患有白內障\": \"是/否\",\n\"推論判斷理由\": \"...\" }",


                    "require_infos": {
                        "是否患有白內障": "判斷使用者是否可能患有白內障？，欄位名稱\"是否患有白內障\""
                    },
                    "options": {
                        "是否患有白內障": [
                            "是",
                            "否"
                        ]
                    },
                
                    "output_infos": {
                        "是否患有白內障": [
                            "是",
                            "否"
                        ]
                    },
                    "input_info": {
                        "do_rag_diagnosis": [ "是否患有白內障" ],
                        "opt_check_cataract_maturity": [ "是否患有白內障" ]
                    },
                    "next_subtask": {
                        "do_rag_diagnosis": {
                            "是": "ask_decision_or_not",
                            "否": "finish_judge_no_cataract"
                        },
                        "opt_check_cataract_maturity": {
                            "是": "ask_decision_or_not",
                            "否": "finish_judge_no_cataract"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "finish_judge_no_cataract": {
                "import_subtask_module": "by_pass_module",
                "user_define_info": {
                    "next_subtask": {}
                }
            },

            "ask_decision_or_not": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "詢問使用者對適合他的人工水晶體種類的推薦意願，欄位名稱\"推薦意願\"",
                    "require_infos": {
                        "推薦意願": "請問您想要了解適合您的人工水晶體種類？，欄位名稱\"推薦意願\"\n注意:若您選擇是，會進入推薦水晶體流程，您接下來需要連續回答4-12個問題，過程中將無法詢問其他問題"
                    },
                    "options": {
                        "推薦意願": [
                            "是的，我想了解",
                            "否，我不需要"
                        ]
                    },
                
                    "output_infos": {
                        "推薦意願": [
                            "是的，我想了解",
                            "否，我不需要"
                        ]
                    },
                    "input_info": {
                        "ask_cataract_len": [ "推薦意願" ],
                        "opt_check_cataract_maturity": [ "推薦意願" ],
                        "check_has_cataract_or_not":  [ "推薦意願" ]
                    },
                    "next_subtask": {
                        "ask_cataract_len": {
                            "是的，我想了解": "explain_decision_policy",
                            "否，我不需要": "finish_decision_judge0"
                        },
                        "opt_check_cataract_maturity": {
                            "是的，我想了解": "explain_decision_policy",
                            "否，我不需要": "finish_decision_judge0"
                        },
                        "check_has_cataract_or_not": {
                            "是的，我想了解": "explain_decision_policy",
                            "否，我不需要": "finish_decision_judge0"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "finish_decision_judge0": {
                "import_subtask_module": "output_msg_module",
                "user_define_info": {
                    "subtask_intention": "向使用者說明如果還需要其他協助可以再次詢問我",
                    "output_msg_info": "好的，若還需要其他協助可以再次詢問我\n",
                    "next_subtask": {},
                    "next_tasks": []
                }
            },

            "explain_decision_policy": {
                "import_subtask_module": "output_msg_module",
                "user_define_info": {
                    "subtask_intention": "向使用者進行人工水晶體選擇說明",
                    "output_msg_info": "注意須知:\n1. **最適合自己的人工水晶體才是最佳選擇**：各種類型的水晶體都有其優點與限制，沒有所謂絕對完美或最好的水晶體，只有最適合自己的水晶體。請根據自己的日常生活需求謹慎選擇，開完刀後人工水晶體基本上無法再更換\n2. **視力的需求與活動**：請回想您的日常活動，記住您需要的視力距離（近/中/遠）：\n - **遠距離視力**：如駕車、看遠處風景。\n - **中距離視力**：如看電腦螢幕、與人交談。\n - **近距離視力**：如閱讀書報、使用手機。\n  3. **視力品質與方便性**：\n  - 在選擇時要了解，視力品質與視力方便性往往無法兼得。需要根據個人的實際需求做出平衡與選擇。\n4. **品質把關與選擇**：\n - 接下來的提供的人工水晶體均經由台北榮總的嚴格品質把關，您可以放心選擇。\n\n以上是人工水晶體選擇的重要說明，希望對您有所幫助，建議最終決策前仍需與專業醫生進行深入討論。\n",
                    "input_info": {
                        "ask_decision_or_not": [ "推薦意願" ]
                    },
                    "next_subtask": {
                        "ask_decision_or_not": {
                            "是的，我想了解": "decide_require_priority"
                        }
                    },
                    "next_tasks": []   
                }
            },

            "decide_require_priority": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對選擇人工水晶體優先考量的需求，欄位名稱\"優先考量需求\"",
                    "require_infos": {
                        "優先考量需求": "哪個是你優先考量的需求，欄位名稱\"優先考量需求\""
                    },
                    "options": {
                        "優先考量需求": [
                            "價位",
                            "視力品質(看特定距離清楚細節明顯)",
                            "視力便利性(少戴眼鏡，看東西更方便)"
                        ]
                    },
                
                    "output_infos": {
                        "優先考量需求": [
                            "價位",
                            "視力品質",
                            "視力便利性"
                        ]
                    },
                    "input_info": {
                        "explain_decision_policy": [ "優先考量需求" ]
                    },
                    "next_subtask": {
                        "explain_decision_policy": {
                            "價位": "opt_get_accept_price_range",
                            "視力品質": "opt_quality_decide_mono_or_short_or_none",
                            "視力便利性": "opt_conv_decide_long_or_multi_or_none"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "opt_get_accept_price_range": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者可以接受的單眼人工水晶體價位，欄位名稱\"價位\"",
                    "require_infos": {
                        "價位": "可以接受\"單眼\"人工水晶體價位，欄位名稱\"價位\""
                    },
                    "options": {
                        "價位": [
                            "0元(健保)",
                            "0-5.5萬",
                            "0-11萬"
                        ]
                    },
                
                    "output_infos": {
                        "價位": [
                            "0元(健保)",
                            "0-5.5萬",
                            "0-11萬"
                        ]
                    },
                    "input_info": {
                        "decide_require_priority": [ "價位" ]
                    },
                    "next_subtask": {

                        "decide_require_priority": {
                            "0元(健保)": "opt_price_single_spheric_or_not",
                            "0元": "opt_price_single_spheric_or_not",
                            "0-5.5萬": "opt_price_mid_decide_mono_or_short_or_none",
                            "0-11萬": "opt_price_glare_or_not"
                        }
                    },
                    "next_tasks": []              
                }
            },

            "opt_quality_decide_mono_or_short_or_none": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對視力品質需求，判斷適合使用單焦點、短延焦、皆非不屬於單焦點和短延焦人工水晶體，欄位名稱\"視力品質要求\"",

                    "require_infos": {
                        "視力品質要求": "您從以下選項中，挑選您可以接受的視力品質:\n注意: 1.單焦點近/中/遠擇一\n2.短延焦可選近+中/中+遠\n3.選擇以外的距離皆須配戴眼鏡"                        
                    },

                    "options": {
                        "視力品質要求": [
                            "單焦點：單一距離看得清楚",
                            "短延焦：近中或中遠距離清楚可見", 
                            "皆非：皆不符合，我不想戴眼鏡"
                        ]
                    },
                    "output_infos": {
                        "焦點": [
                            "單焦點",
                            "短延焦",
                            "皆非"
                        ]
                    },
                    "input_info": {
                        "decide_require_priority": [ "焦點" ]
                    },
                    "next_subtask": {
                        "decide_require_priority": {
                            "單焦點": "opt_get_blue_light",
                            "短延焦": "opt_get_blue_light",
                            "皆非": "opt_quality_decide_none_contradiction"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "opt_quality_decide_none_contradiction": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "出現使用者選擇視力品質與視力便利性矛盾情況，向使用者再次請求確認是否選擇矛盾選項，欄位名稱\"品質與便利性矛盾確認\"",

                    "require_infos": {
                        "品質與便利性矛盾確認": "❗請確認您的優先考量需求為「視力便利性」?\n注意: 1.視力品質：特定距離清晰，其他距離需戴眼鏡。\n2.視力便利性：大多時間不用戴眼鏡（較貴，可能有夜間眩光）"                        
                    },

                    "options": {
                        "品質與便利性矛盾確認": [
                            "是：不戴眼鏡較重要",
                            "否：特定距離清晰較重要"
                        ]
                    },
                    "output_infos": {
                        "品質與便利性矛盾確認": [
                            "是",
                            "否"
                        ]
                    },
                    "input_info": {
                        "opt_quality_decide_mono_or_short_or_none": [ "品質與便利性矛盾確認" ]
                    },
                    "next_subtask": {
                        "opt_quality_decide_mono_or_short_or_none": {
                            "是": "opt_quality_decide_long_or_multi",
                            "否": "opt_quality_decide_mono_or_short"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "opt_quality_decide_mono_or_short": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對視力品質需求，判斷適合使用單焦點、短延焦，欄位名稱\"視力品質\"",

                    "require_infos": {
                        "視力品質": "您從以下選項中，挑選您可以接受的視力品質:\n注意: 1.單焦點近/中/遠擇一\n2.短延焦可選近+中/中+遠\n"                        
                    },

                    "options": {
                        "視力品質": [
                            "單焦點：單一距離看得清楚",
                            "短延焦：近中或中遠距離清楚可見"
                        ]
                    },
                    "output_infos": {
                        "焦點": [
                            "單焦點",
                            "短延焦"
                        ]
                    },
                    "input_info": {
                        "opt_quality_decide_none_contradiction": [ "焦點" ]
                    },
                    "next_subtask": {
                        "opt_quality_decide_none_contradiction": {
                            "單焦點": "opt_get_blue_light",
                            "短延焦": "opt_get_blue_light"
                        }
                    },
                    "next_tasks": []                
                }
            },


            "opt_decide_long_or_multi": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對視力便利性需求，判斷適合使用長延焦、多焦點人工水晶體，欄位名稱\"視力便利性\"",

                    "require_infos": {
                        "視力便利性": "您從以下選項中，挑選您可以接受的視力便利性:，欄位名稱\"視力便利性\"\n注意:1. 長延焦和多焦點夜間可能有眩光(晚上開車可能會被燈光刺眼)，視覺品質稍受影響\n2. 多焦點切換視線距離有點卡"                        
                    },

                    "options": {
                        "視力便利性": [
                            "長延焦：遠近切換自然，不用常換眼鏡",
                            "多焦點：看近、中、遠距都清楚"
                        ]
                    },
                    "output_infos": {
                        "焦點": [
                            "長延焦",
                            "多焦點"
                        ]
                    },
                    "input_info": {
                        "opt_decide_long_or_multi": [ "焦點" ],
                        "opt_quality_decide_mono_or_short_or_none": [ "焦點" ]
                    },
                    "next_subtask": {
                        
                        "opt_quality_decide_mono_or_short_or_none": {
                            "長延焦": "opt_get_blue_light",
                            "多焦點": "opt_get_blue_light"
                        }
                    },
                    "next_tasks": []                
                }
            },




            "opt_conv_decide_long_or_multi_or_none": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對視力便利性需求，判斷適合使用長延焦、多焦點、皆非不屬於長延焦和多焦點人工水晶體，欄位名稱\"視力便利性\"",

                    "require_infos": {
                        "視力便利性": "您從以下選項中，挑選您可以接受的視力便利性:，欄位名稱\"視力便利性\"\n注意:1. 長延焦和多焦點夜間可能有眩光，視覺品質稍受影響\n2. 多焦點切換視線距離有點卡"                        
                    },

                    "options": {
                        "視力便利性": [
                            "長延焦：近到遠看起來更順暢",
                            "多焦點：近、中、遠距都能看清楚",
                            "皆非：皆不符合，可接受有時戴眼鏡"
                        ]
                    },
                    "output_infos": {
                        "焦點": [
                            "長延焦",
                            "多焦點",
                            "皆非"
                        ]
                    },
                    "input_info": {
                        "decide_require_priority": [ "焦點" ]
                    },

                    "next_subtask": {
                        
                        "decide_require_priority": {
                            "長延焦": "opt_get_blue_light",
                            "多焦點": "opt_get_blue_light",
                            "皆非": "opt_conv_decide_none_contradiction"
                        }
                    },
                    "next_tasks": []                
                }
            },


            "opt_conv_decide_none_contradiction": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "出現使用者選擇視力便利性與視力品質矛盾情況，向使用者再次請求確認是否選擇矛盾選項，欄位名稱\"便利性與品質矛盾確認\"",

                    "require_infos": {
                        "便利性與品質矛盾確認": "❗請確認您的優先考量需求為「視力品質」?\n注意: 1.視力品質：特定距離清晰，其他距離需戴眼鏡。\n2.視力便利性：大多時間不用戴眼鏡（較貴，可能有夜間眩光）"                        
                    },

                    "options": {
                        "便利性與品質矛盾確認": [
                            "是：特定距離清晰較重要",
                            "否：不戴眼鏡較重要"
                        ]
                    },
                    "output_infos": {
                        "便利性與品質矛盾確認": [
                            "是",
                            "否"
                        ]
                    },
                    "input_info": {
                        "opt_conv_decide_long_or_multi_or_none": [ "便利性與品質矛盾確認" ]
                    },
                    "next_subtask": {
                        "opt_conv_decide_long_or_multi_or_none": {
                            "是": "opt_conv_decide_mono_or_short",
                            "否": "opt_conv_decide_long_or_multi"
                        }
                    },
                    "next_tasks": []                
                }
            },


            "opt_conv_decide_long_or_multi": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對視力便利性需求，判斷適合使用長延焦、多焦點人工水晶體，欄位名稱\"視力便利性\"",

                    "require_infos": {
                        "視力便利性": "您從以下選項中，挑選您可以接受的視力便利性:，欄位名稱\"視力便利性\"\n注意:1. 長延焦和多焦點夜間可能有眩光，視覺品質稍受影響\n2. 多焦點切換視線距離有點卡"                        
                    },

                    "options": {
                        "視力便利性": [
                            "長延焦：近到遠看起來更順暢",
                            "多焦點：近、中、遠距都能看清楚"
                        ]
                    },
                    "output_infos": {
                        "焦點": [
                            "長延焦",
                            "多焦點"
                        ]
                    },
                    "input_info": {
                        "opt_conv_decide_none_contradiction": [ "焦點" ]
                    },

                    "next_subtask": {
                        
                        "opt_conv_decide_none_contradiction": {
                            "長延焦": "opt_get_blue_light",
                            "多焦點": "opt_get_blue_light"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "opt_get_blue_light": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "判斷使用者是否需要需要抗藍光功能，欄位名稱\"藍光\"",

                    "require_infos": {
                        "藍光": "是否需要抗藍光功能，欄位名稱\"藍光\"\n注意: 抗藍光不需加價，色調偏暖但夜間對比度稍低"                        
                    },

                    "options": {
                        "藍光": [
                            "抗藍光",
                            "不用抗藍光"
                        ]
                    },
                    "output_infos": {
                        "藍光": [
                            "抗藍光",
                            "不用抗藍光"
                        ]
                    },
                    "input_info": {
                        
                        "opt_get_blue_light": [ "藍光" ],
                        "opt_conv_decide_long_or_multi_or_none": [ "藍光" ],
                        
                        "opt_conv_decide_mono_or_short": [ "藍光" ],

                        "opt_quality_decide_mono_or_short_or_none": [ "藍光" ],

                        "opt_quality_decide_long_or_multi": [ "藍光" ],

                        "opt_price_decide_long_or_multi": [ "藍光" ],

                        "opt_price_mid_decide_mono_or_short_or_none": [ "藍光" ],

                        "opt_price_mid_decide_long_or_multi": [ "藍光" ],

                        "opt_price_high_decide_mono_or_short": [ "藍光" ],

                        "opt_quality_decide_none_contradiction": [ "藍光" ],

                        "opt_quality_decide_mono_or_short": [ "藍光" ],

                        "opt_conv_decide_none_contradiction": [ "藍光" ],

                        "opt_conv_decide_long_or_multi": [ "藍光" ],

                        "opt_price_mid_decide_mono_or_short": [ "藍光" ]

                    },
                    "next_subtask": {
                        "opt_conv_decide_long_or_multi_or_none": {
                            "抗藍光": "finish_visual_conv_judge1",
                            "不用抗藍光": "finish_visual_conv_judge1"
                        },
                        
                        "opt_conv_decide_mono_or_short": {
                            "抗藍光": "finish_visual_conv_judge2",
                            "不用抗藍光": "finish_visual_conv_judge2"
                        },

                        "opt_quality_decide_mono_or_short_or_none": {
                            "抗藍光": "finish_visual_quality_judge1",
                            "不用抗藍光": "finish_visual_quality_judge1"
                        },

                        "opt_quality_decide_long_or_multi": {
                            "抗藍光": "finish_visual_quality_judge2",
                            "不用抗藍光": "finish_visual_quality_judge2"
                        },

                        "opt_price_decide_long_or_multi": {
                            "抗藍光": "finish_price_judge2",
                            "不用抗藍光": "finish_price_judge2"
                        },

                        "opt_price_mid_decide_mono_or_short_or_none": {
                            "抗藍光": "finish_price_judge3",
                            "不用抗藍光": "finish_price_judge3"
                        },

                        "opt_price_mid_decide_long_or_multi": {
                            "抗藍光": "finish_price_judge4",
                            "不用抗藍光": "finish_price_judge4"
                        },

                        "opt_price_high_decide_mono_or_short": {
                            "抗藍光": "finish_price_judge5",
                            "不用抗藍光": "finish_price_judge5"
                        },


                        "opt_quality_decide_none_contradiction": {
                            "抗藍光": "finish_visual_quality_judge1",
                            "不用抗藍光": "finish_visual_quality_judge1"
                        },

                        "opt_quality_decide_mono_or_short": {
                            "抗藍光": "finish_visual_quality_judge1",
                            "不用抗藍光": "finish_visual_quality_judge1"
                        },

                        "opt_conv_decide_none_contradiction":  {
                            "抗藍光": "finish_visual_conv_judge1",
                            "不用抗藍光": "finish_visual_conv_judge1"
                        },

                        "opt_conv_decide_long_or_multi": {
                            "抗藍光": "finish_visual_conv_judge1",
                            "不用抗藍光": "finish_visual_conv_judge1"
                        },

                        "opt_price_mid_decide_mono_or_short": {
                            "抗藍光": "finish_price_judge3",
                            "不用抗藍光": "finish_price_judge3"
                        }

                    },
                    "next_tasks": []           
                }
            },
            
            "finish_visual_conv_judge1": {
                "import_subtask_module": "rag_module",
                "user_define_info": {
                    "subtask_intention": "根據使用者對焦點、藍光需求，判斷說明適合使用下列哪一種人工水晶體:\n(1)「長延焦」「非球面」「抗藍光黃片」(2) 「長延焦」「非球面」 (3) 「多焦點」「非球面」「抗藍光」 (4)「多焦點」「非球面」，每個特徵按照選項都用「」包住\n接著請針對文件北榮-眼科人工水晶體自付差額品項，用markdown表格方式逐一詳細列出全部同時滿足'種類欄位完全符合下面使用者的要求(所有要求同時成立)和你判斷適合的人工水晶體種類'條件的廠商人工水晶體中英文特材品名以及詳細的所有價格(醫院單價、健保給付、自費差額)，注意輸出的數字和特材品名需和文件北榮-眼科人工水晶體自付差額品項表格內容完全相同，除了表格外須說明為何選擇此水晶體種類不用對廠牌有其他的描述，每個特徵按照選項都用「」包住",
                    "require_infos": {
                        "藍光": "是否需要抗藍光功能", 
                        "焦點": "適合使用哪種焦點/焦段種類" 
                    },
                    "options": {

                        "藍光": [
                            "抗藍光",
                            "不用抗藍光"
                        ],

                        "焦點": [
                            "長延焦",
                            "多焦點"
                        ]
                    },
                    "next_tasks": [ "ask_lensx" ] 
                }
            },
            


            "opt_conv_decide_mono_or_short": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對視力品質需求，判斷適合使用單焦點、短延焦人工水晶體，欄位名稱\"視力品質要求\"",

                    "require_infos": {
                        "視力品質要求": "您從以下選項中，挑選您可以接受的視力品質:，欄位名稱\"視力品質要求\"\n注意: 1.單焦點近/中/遠擇一\n2.短延焦可選近+中/中+遠\n3.選擇以外的距離皆須配戴眼鏡"                        
                    },

                    "options": {
                        "視力品質要求": [
                            "單焦點：單一距離看得清楚",
                            "短延焦：近中或中遠距離清楚可見"
                        ]
                    },
                    "output_infos": {
                        "焦點": [
                            "單焦點",
                            "短延焦"
                        ]
                    },
                    "input_info": {
                        "opt_conv_decide_long_or_multi_or_none": [ "焦點" ],
                        "opt_conv_decide_none_contradiction": [ "焦點" ]
                    },
                    "next_subtask": {
                        "opt_conv_decide_long_or_multi_or_none": {
                            "單焦點": "opt_get_blue_light",
                            "短延焦": "opt_get_blue_light"
                        },

                        "opt_conv_decide_none_contradiction": {
                            "單焦點": "opt_get_blue_light",
                            "短延焦": "opt_get_blue_light"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "finish_visual_conv_judge2": {
                "import_subtask_module": "rag_module",
                "user_define_info": {
                    "subtask_intention": "根據使用者對視力便利性、藍光需求，判斷並說明適合使用下列哪一種人工水晶體(只能挑一個):\n(1) 「單焦點」「非球面」「抗藍光黃片」(2) 「單焦點」「非球面」 (3) 「短延焦」「非球面」「抗藍光黃片」 (4) 「短延焦」「非球面」，每個特徵按照選項都用「」包住\n\n接著請針對文件北榮-眼科人工水晶體自付差額品項，用markdown表格方式逐一詳細列出全部同時滿足'種類欄位完全符合下面使用者的要求(所有要求同時成立)和你判斷適合的人工水晶體種類'條件的廠商人工水晶體中英文特材品名以及詳細的所有價格(醫院單價、健保給付、自費差額)，注意輸出的數字和特材品名需和文件北榮-眼科人工水晶體自付差額品項表格內容完全相同，除了表格外須說明為何選擇此水晶體種類不用對廠牌有其他的描述，每個特徵按照選項都用「」包住",
                    "require_infos": {
                        "藍光": "是否需要抗藍光功能", 
                        "焦點": "適合使用哪種焦點/焦段種類" 
                    },
                    "options": {

                        "藍光": [
                            "抗藍光",
                            "不用抗藍光"
                        ],

                        "焦點": [
                            "單焦點",
                            "短延焦"
                        ]
                    },
                    
                    "output_infos": {
                        "人工水晶體種類": [
                            "「單焦點」「非球面」「抗藍光黃片」",
                            "「單焦點」「非球面」",
                            "「短延焦」「非球面」「抗藍光黃片」",
                            "「短延焦」「非球面」"
                        ]
                    },
                    
                    "input_info": {
                        "opt_conv_decide_mono_or_short": [ "焦點" ],
                        "opt_get_blue_light":  [ "藍光" ]
                    },
                    "next_subtask": {},
                    "next_tasks": [ "ask_lensx" ]    
                    
                }
            },


            "finish_visual_quality_judge1": {
                "import_subtask_module": "rag_module",
                "user_define_info": {
                    "subtask_intention": "根據使用者對視力品質、藍光需求需求，判斷並說明適合使用下列哪一種人工水晶體(只能挑一個)\n(1) 「單焦點」「非球面」「抗藍光黃片」 (2) 「單焦點」「非球面」 (3) 「短延焦」「非球面」「抗藍光黃片」 (4) 「短延焦」「非球面」，每個特徵按照選項都用「」包住\n\n接著請針對文件北榮-眼科人工水晶體自付差額品項，用markdown表格方式逐一詳細列出全部同時滿足'種類欄位完全符合下面使用者的要求(所有要求同時成立)和你判斷適合的人工水晶體種類'條件的廠商人工水晶體中英文特材品名以及詳細的所有價格(醫院單價、健保給付、自費差額)，注意輸出的數字和特材品名需和文件北榮-眼科人工水晶體自付差額品項表格內容完全相同，除了markdown表格外須說明為何選擇此水晶體種類不用對廠牌有其他的描述，每個特徵按照選項都用「」包住",

                    "require_infos": {
                        "藍光": "是否需要抗藍光功能", 
                        "焦點": "適合使用哪種焦點/焦段種類" 
                    },
                    "options": {

                        "藍光": [
                            "抗藍光",
                            "不用抗藍光"
                        ],

                        "焦點": [
                            "單焦點",
                            "短延焦"
                        ]
                    },

                    "output_infos": {
                        "人工水晶體種類": [
                            "「單焦點」「非球面」「抗藍光黃片」",
                            "「單焦點」「非球面」",
                            "「短延焦」「非球面」「抗藍光黃片」",
                            "「短延焦」「非球面」"
                        ]
                    },
                    "input_info": {
                        "opt_quality_decide_mono_or_short_or_none": [ "焦點" ],
                        "opt_get_blue_light":  [ "藍光" ]
                    },
                    "next_subtask": {},
                    "next_tasks": [ "ask_lensx" ]              
                }
            },

            "opt_quality_decide_long_or_multi": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對視力便利性需求，判斷適合使用長延焦、多焦點人工水晶體，欄位名稱\"視力便利性\"",

                    "require_infos": {
                        "視力便利性": "您從以下選項中，挑選您可以接受的視力便利性:，欄位名稱\"視力便利性\"\n注意:1. 長延焦和多焦點夜間可能有眩光，視覺品質稍受影響\n2. 多焦點切換視線距離有點卡"                        
                    },

                    "options": {
                        "視力便利性": [
                            "長延焦：遠近切換自然，不用常換眼鏡",
                            "多焦點：近、中、遠距都能看清楚"
                        ]
                    },
                    "output_infos": {
                        "焦點": [
                            "長延焦",
                            "多焦點"
                        ]
                    },
                    "input_info": {
                        "opt_quality_decide_mono_or_short_or_none": [ "焦點" ],
                        "opt_quality_decide_none_contradiction": [ "焦點" ]
                    },
                    "next_subtask": {
                        
                        "opt_quality_decide_mono_or_short_or_none": {
                            "長延焦": "opt_get_blue_light",
                            "多焦點": "opt_get_blue_light"
                        },

                        "opt_quality_decide_none_contradiction": {
                            "長延焦": "opt_get_blue_light",
                            "多焦點": "opt_get_blue_light"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "finish_visual_quality_judge2": {
                "import_subtask_module": "rag_module",
                "user_define_info": {
                    "subtask_intention": "根據使用者對視力方便性、藍光需求需求，判斷並說明適合使用下列哪一種人工水晶體(只能挑一個)\n(1)「長延焦」「非球面」「抗藍光黃片」 (2) 「長延焦」「非球面」 (3) 「多焦點」「非球面」「抗藍光」 (4) 「多焦點」「非球面」，每個特徵按照選項都用「」包住\n",

                    "require_infos": {
                        "藍光": "是否需要抗藍光功能", 
                        "焦點": "適合使用哪種焦點/焦段種類" 
                    },
                    "options": {

                        "藍光": [
                            "抗藍光",
                            "不用抗藍光"
                        ],

                        "焦點": [
                            "長延焦",
                            "多焦點"
                        ]
                    },

                    "output_infos": {
                        "人工水晶體種類": [
                            "「長延焦」「非球面」「抗藍光黃片」",
                            "「長延焦」「非球面」",
                            "「多焦點」「非球面」「抗藍光」",
                            "「多焦點」「非球面」"
                        ]
                    },
                    "input_info": {
                        "opt_quality_decide_long_or_multi": [ "焦點" ],
                        "opt_get_blue_light": [ "藍光" ]
                    },
                    "next_subtask": {},
                    "next_tasks": [ "ask_lensx" ]              
                }
            },


            "opt_price_single_spheric_or_not": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "健保能夠提供「單焦點」且「球面」的人工水晶體，判斷使用者是否能夠接受，欄位名稱\"單焦點球面\"",

                    "require_infos": {
                        "單焦點球面": "可否接受「單焦點」「球面」?，欄位名稱\"單焦點球面\"\n注意:1.單焦點：特定距離看得清楚（近/中/遠擇一），其他需戴眼鏡\n2.球面：晚上看東西較不清楚（非球面需自費）"                        
                    },

                    "options": {
                        "單焦點球面": [
                            "是",
                            "否，不想戴眼鏡",
                            "否，希望夜間視力品質好一點"
                        ]
                    },
                    "output_infos": {
                        "單焦點球面": [
                            "是",
                            "否，不想戴眼鏡",
                            "否，希望晚上看東西清楚一點"
                        ]
                    },
                    "input_info": {
                        "opt_get_accept_price_range": [ "單焦點球面" ]
                    },
                    "next_subtask": {
                        
                        "opt_get_accept_price_range": {
                            "是": "finish_price_judge1",
                            "否，不想戴眼鏡": "opt_price_single_spheric_no_contradiction_1",
                            "否，希望夜間視力品質好一點": "opt_price_single_spheric_no_contradiction_2"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "opt_price_single_spheric_no_contradiction_1": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "出現使用者選擇0元(健保)與須付費矛盾情況，向使用者再次請求確認是否選擇矛盾選項，欄位名稱\"0元與自費矛盾確認\"",

                    "require_infos": {
                        "0元與自費矛盾確認": "❗請確認您是否可以接受自費人工水晶體?\n注意:❗不戴眼鏡需自負額外費用，健保無法全額給付"                        
                    },

                    "options": {
                        "0元與自費矛盾確認": [
                            "是：我可以接受自費",
                            "否：我不想負擔任何費用"
                        ]
                    },
                    "output_infos": {
                        "0元與自費矛盾確認": [
                            "是",
                            "否"
                        ]
                    },
                    "input_info": {
                        "opt_price_single_spheric_or_not": [ "0元與自費矛盾確認" ]
                    },
                    "next_subtask": {
                        "opt_price_single_spheric_or_not": {
                            "是": "opt_price_decide_long_or_multi",
                            "否": "finish_price_judge1"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "opt_price_single_spheric_no_contradiction_2": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "出現使用者選擇0元(健保)與須付費矛盾情況，向使用者再次請求確認是否選擇矛盾選項，欄位名稱\"0元與自費矛盾確認\"",

                    "require_infos": {
                        "0元與自費矛盾確認": "❗請確認您是否可以接受自費人工水晶體?\n注意:❗要求夜間視力更佳需自付額外費用，健保無法全額給付"                        
                    },

                    "options": {
                        "0元與自費矛盾確認": [
                            "是：我可以接受自費",
                            "否：我不想負擔任何費用"
                        ]
                    },
                    "output_infos": {
                        "0元與自費矛盾確認": [
                            "是",
                            "否"
                        ]
                    },
                    "input_info": {
                        "opt_price_single_spheric_or_not": [ "0元與自費矛盾確認" ]
                    },
                    "next_subtask": {
                        "opt_price_single_spheric_or_not": {
                            "是": "opt_get_accept_price_range_2",
                            "否": "finish_price_judge1"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "finish_price_judge1": { 
                "import_subtask_module": "rag_module",
                "user_define_info": {
                    "subtask_intention": "請原封不動一模一樣的輸出\"「單焦點」「球面」\"這兩個括號以及括號內的內容，並說明單焦點搭配球面的人工水晶體特質，注意「」也要輸出\n",

                    "require_infos": {},

                    "options": {},
                    "output_infos": {},

                    "input_info": {
                        "opt_price_single_spheric_or_not": [ "單焦點球面" ]
                    },
                    "next_subtask": {},
                    "next_tasks": [ "ask_lensx" ]              
                }
            },

            "opt_price_decide_long_or_multi": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對視力便利性需求，判斷適合使用長延焦、多焦點人工水晶體，欄位名稱\"視力便利性\"",

                    "require_infos": {
                        "視力便利性": "您從以下選項中，挑選您可以接受的視力便利性:，欄位名稱\"視力便利性\"\n注意:1. 長延焦和多焦點夜間可能有眩光，視覺品質稍受影響\n2. 多焦點切換視線距離有點卡"                        
                    },

                    "options": {
                        "視力便利性": [
                            "長延焦：近到遠看起來更順暢",
                            "多焦點：近、中、遠距都能看清楚"
                        ]
                    },
                    "output_infos": {
                        "焦點": [
                            "長延焦",
                            "多焦點"
                        ]
                    },
                    "input_info": {
                        "opt_price_single_spheric_or_not": [ "焦點" ],
                        "opt_price_high_quality_or_conv":  [ "焦點" ],
                        "opt_price_single_spheric_no_contradiction_1": [ "焦點" ]
                    },
                    "next_subtask": {
                        
                        "opt_price_single_spheric_or_not": {
                            "長延焦": "opt_get_blue_light",
                            "多焦點": "opt_get_blue_light"
                        },

                        "opt_price_high_quality_or_conv": {
                            "長延焦": "opt_get_blue_light",
                            "多焦點": "opt_get_blue_light"
                        },

                        "opt_price_single_spheric_no_contradiction_1": {
                            "長延焦": "opt_get_blue_light",
                            "多焦點": "opt_get_blue_light"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "finish_price_judge2": {
                "import_subtask_module": "rag_module",
                "user_define_info": {
                    "subtask_intention": "根據使用者對視力方便性、藍光需求需求，判斷並說明適合使用下列哪一種人工水晶體(只能挑一個)\n(1)「長延焦」「非球面」「抗藍光黃片」 (2) 長延焦」「非球面」 (3) 「多焦點」「非球面」「抗藍光」 (4) 「多焦點」「非球面」，每個特徵按照選項都用「」包住\n\n接著請針對文件北榮-眼科人工水晶體自付差額品項，用markdown表格方式逐一詳細列出全部同時滿足'種類欄位完全符合下面使用者的要求(所有要求同時成立)和你判斷適合的人工水晶體種類'條件的廠商人工水晶體中英文特材品名以及詳細的所有價格(醫院單價、健保給付、自費差額)，注意輸出的數字和特材品名需和文件北榮-眼科人工水晶體自付差額品項表格內容完全相同",

                    "require_infos": {
                        "藍光": "是否需要抗藍光功能", 
                        "焦點": "適合使用哪種焦點/焦段種類" 
                    },
                    "options": {

                        "藍光": [
                            "抗藍光",
                            "不用抗藍光"
                        ],

                        "焦點": [
                            "長延焦",
                            "多焦點"
                        ]
                    },
                    "output_infos": {
                        "人工水晶體種類": [
                            "「長延焦」「非球面」「抗藍光黃片」",
                            "「長延焦」「非球面」",
                            "「多焦點」「非球面」「抗藍光」",
                            "「多焦點」「非球面」"
                        ]
                    },
                    "input_info": {
                        "opt_price_decide_long_or_multi": [ "焦點" ],
                        "opt_get_blue_light": [ "藍光" ]
                    },
                    "next_subtask": {},
                    "next_tasks": [ "ask_lensx" ]              
                }
            },

            "opt_get_accept_price_range_2": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "請重新再次取得使用者可以接受的單眼人工水晶體價位，欄位名稱\"重新取得價位\"，不包含0元(健保)",
                    "require_infos": {
                        "重新取得價位": "重新選擇可以接受\"單眼\"人工水晶體價位，欄位名稱\"重新取得價位\""
                    },
                    "options": {
                        "重新取得價位": [
                            "0-5.5萬",
                            "0-11萬"
                        ]
                    },
                
                    "output_infos": {
                        "重新取得價位": [
                            "0-5.5萬",
                            "0-11萬"
                        ]
                    },
                    "input_info": {
                        "opt_price_single_spheric_or_not": [ "重新取得價位" ],
                        "opt_price_single_spheric_no_contradiction_2": [ "重新取得價位" ]
                    },
                    "next_subtask": {

                        "opt_price_single_spheric_or_not": {
                            "0-5.5萬": "opt_price_mid_decide_mono_or_short_or_none",
                            "0-11萬": "opt_price_glare_or_not"
                        },

                        "opt_price_single_spheric_no_contradiction_2": {
                            "0-5.5萬": "opt_price_mid_decide_mono_or_short_or_none",
                            "0-11萬": "opt_price_glare_or_not"
                        }

                    },
                    "next_tasks": []               
                }
            },

            "opt_price_mid_decide_mono_or_short_or_none": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對視力品質需求，判斷適合使用單焦點、短延焦、皆非不屬於單焦點和短延焦人工水晶體，欄位名稱\"視力品質要求\"",

                    "require_infos": {
                        "視力品質要求": "您從以下選項中，挑選您可以接受的視力品質:，欄位名稱\"視力品質要求\"\n注意: 1.單焦點近/中/遠擇一\n2.短延焦可選近+中/中+遠\n3.選擇以外的距離皆須配戴眼鏡"                        
                    },

                    "options": {
                        "視力品質要求": [
                            "單焦點：單一距離看得清楚",
                            "短延焦：近中或中遠距離清楚可見",
                            "皆非：皆不符合，不想戴眼鏡（較貴）"
                        ]
                    },
                    "output_infos": {
                        "焦點": [
                            "單焦點",
                            "短延焦",
                            "皆非"
                        ]
                    },
                    "input_info": {
                        "opt_get_accept_price_range": [ "焦點" ],
                        "opt_get_accept_price_range_2":  [ "焦點" ]
                    },
                    "next_subtask": {
                        "opt_get_accept_price_range": {
                            "單焦點": "opt_get_blue_light",
                            "短延焦": "opt_get_blue_light",
                            "皆非": "opt_price_mid_decide_none_contradiction"
                        },

                        "opt_get_accept_price_range_2": {
                            "單焦點": "opt_get_blue_light",
                            "短延焦": "opt_get_blue_light",
                            "皆非": "opt_price_mid_decide_none_contradiction"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "opt_price_mid_decide_none_contradiction": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "出現使用者選擇超出選擇預算矛盾情況，向使用者再次請求確認是否選擇矛盾選項，欄位名稱\"預算矛盾確認\"",

                    "require_infos": {
                        "預算矛盾確認": "❗請確認您的是否可以接受預算超出5.5萬?"                        
                    },

                    "options": {
                        "預算矛盾確認": [
                            "是：可以接受超出5.5萬",
                            "否：不行，預算最高5.5萬"
                        ]
                    },
                    "output_infos": {
                        "預算矛盾確認": [
                            "是",
                            "否"
                        ]
                    },
                    "input_info": {
                        "opt_price_mid_decide_mono_or_short_or_none": [ "預算矛盾確認" ]
                    },
                    "next_subtask": {
                        "opt_price_mid_decide_mono_or_short_or_none": {
                            "是": "opt_price_mid_decide_long_or_multi",
                            "否": "opt_price_mid_decide_mono_or_short"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "opt_price_mid_decide_mono_or_short": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對視力品質需求，判斷適合使用單焦點、短延焦人工水晶體，欄位名稱\"視力品質要求\"",

                    "require_infos": {
                        "視力品質要求": "您從以下選項中，挑選您可以接受的視力品質:，欄位名稱\"視力品質要求\"\n注意: 1.單焦點近/中/遠擇一\n2.短延焦可選近+中/中+遠"                        
                    },

                    "options": {
                        "視力品質要求": [
                            "單焦點：單一距離看得清楚",
                            "短延焦：近中或中遠距離清楚可見"
                        ]
                    },
                    "output_infos": {
                        "焦點": [
                            "單焦點",
                            "短延焦"
                        ]
                    },
                    "input_info": {
                        "opt_get_accept_price_range": [ "焦點" ],
                        "opt_get_accept_price_range_2":  [ "焦點" ],
                        "opt_price_mid_decide_none_contradiction":  [ "焦點" ]
                    },
                    "next_subtask": {
                        "opt_get_accept_price_range": {
                            "單焦點": "opt_get_blue_light",
                            "短延焦": "opt_get_blue_light"
                        },

                        "opt_get_accept_price_range_2": {
                            "單焦點": "opt_get_blue_light",
                            "短延焦": "opt_get_blue_light"
                        },

                        "opt_price_mid_decide_none_contradiction": {
                            "單焦點": "opt_get_blue_light",
                            "短延焦": "opt_get_blue_light"
                        }
                    },
                    "next_tasks": []                
                }
            },

            

            "finish_price_judge3": {
                "import_subtask_module": "rag_module",
                "user_define_info": {
                    "subtask_intention": "根據使用者對視力品質、藍光需求需求，判斷並說明適合使用下列哪一種人工水晶體(只能挑一個)\n(1) 「單焦點」「非球面」「抗藍光黃片」 (2) 「單焦點」「非球面」 (3) 「短延焦」「非球面」「抗藍光黃片」 (4) 「短延焦」「非球面」，每個特徵按照選項都用「」包住\n\n接著請針對文件北榮-眼科人工水晶體自付差額品項，用markdown表格方式逐一詳細列出全部同時滿足'種類欄位完全符合下面使用者的要求(所有要求同時成立)和你判斷適合的人工水晶體種類'條件的廠商人工水晶體中英文特材品名以及詳細的所有價格(醫院單價、健保給付、自費差額)，注意輸出的數字和特材品名需和文件北榮-眼科人工水晶體自付差額品項表格內容完全相同，除了markdown表格外須說明為何選擇此水晶體種類不用對廠牌有其他的描述，每個特徵按照選項都用「」包住",

                    "require_infos": {
                        "藍光": "是否需要抗藍光功能", 
                        "焦點": "適合使用哪種焦點/焦段種類" 
                    },
                    "options": {

                        "藍光": [
                            "抗藍光",
                            "不用抗藍光"
                        ],

                        "焦點": [
                            "單焦點",
                            "短延焦"
                        ]
                    },
                    "output_infos": {
                        "人工水晶體種類": [
                            "「單焦點」「非球面」「抗藍光黃片」",
                            "「單焦點」「非球面」",
                            "「短延焦」「非球面」「抗藍光黃片」",
                            "「短延焦」「非球面」"
                        ]
                    },
                    "input_info": {
                        "opt_price_mid_decide_mono_or_short_or_none": [ "焦點" ],
                        "opt_get_blue_light":  [ "藍光" ]
                    },
                    "next_subtask": {},
                    "next_tasks": [ "ask_lensx" ]              
                }
            },


            "opt_price_mid_decide_long_or_multi": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者在對話中視力的需求，判斷適合使用長延焦、多焦點人工水晶體，欄位名稱\"視力便利性\"",

                    "require_infos": {
                        "視力便利性": "您從以下選項中，挑選您可以接受的視力便利性:，欄位名稱\"視力便利性\"\n注意:1. 長延焦和多焦點夜間可能有眩光，視覺品質稍受影響\n2. 多焦點切換視線距離有點卡"                        
                    },

                    "options": {
                        "視力便利性": [
                            "長延焦：近到遠看起來更順暢",
                            "多焦點：近、中、遠距都能看清楚"
                        ]
                    },
                    "output_infos": {
                        "焦點": [
                            "長延焦",
                            "多焦點"
                        ]
                    },
                    "input_info": {
                        "opt_price_mid_decide_mono_or_short_or_none": [ "焦點" ],
                        "opt_price_mid_decide_none_contradiction":  [ "焦點" ]
                    },
                    "next_subtask": {
                        
                        "opt_price_mid_decide_mono_or_short_or_none": {
                            "長延焦": "opt_get_blue_light",
                            "多焦點": "opt_get_blue_light"
                        },

                        "opt_price_mid_decide_none_contradiction": {
                            "長延焦": "opt_get_blue_light",
                            "多焦點": "opt_get_blue_light"
                        }

                    },
                    "next_tasks": []                
                }
            },
    
            "finish_price_judge4": {
                "import_subtask_module": "rag_module",
                "user_define_info": {
                    "subtask_intention": "根據使用者對視力方便性、藍光需求需求，判斷並說明適合使用下列哪一種人工水晶體(只能挑一個)\n(1)「長延焦」「非球面」「抗藍光黃片」 (2) 「長延焦」「非球面」 (3) 「多焦點」「非球面」「抗藍光」 (4) 「多焦點」「非球面」，每個特徵按照選項都用「」包住\n",

                    "require_infos": {
                        "藍光": "是否需要抗藍光功能", 
                        "焦點": "適合使用哪種焦點/焦段種類" 
                    },
                    "options": {

                        "藍光": [
                            "抗藍光",
                            "不用抗藍光"
                        ],

                        "焦點": [
                            "長延焦",
                            "多焦點"
                        ]
                    },
                    "output_infos": {
                        "人工水晶體種類": [
                            "「長延焦」「非球面」「抗藍光黃片」",
                            "「長延焦」「非球面」",
                            "「多焦點」「非球面」「抗藍光」",
                            "「多焦點」「非球面」"
                        ]
                    },
                    "input_info": {
                        "opt_price_mid_decide_long_or_multi": [ "焦點" ],
                        "opt_get_blue_light":  [ "藍光" ]
                    },
                    "next_subtask": {},
                    "next_tasks": [ "ask_lensx" ]    
                }

                
            },

            "opt_price_glare_or_not": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "判斷使用者是否能夠接受夜間眩光，欄位名稱\"夜間眩光\"",

                    "require_infos": {
                        "夜間眩光": "是否可以接受夜間/暗環境眩光?，欄位名稱\"夜間眩光\"\n注意: 夜晚環境通常昏暗，當有明亮光源（如車燈、路燈）突然進入視野時，眼睛無法快速調節，若需開車不建議"                        
                    },

                    "options": {
                        "夜間眩光": [
                            "是，可以接受夜間眩光",
                            "否，不能接受夜間眩光"
                        ]
                    },
                    "output_infos": {
                        "夜間眩光": [
                            "是，可以接受夜間眩光",
                            "否，不能接受夜間眩光"
                        ]
                    },

                    "input_info": {
                        "opt_get_accept_price_range": [ "夜間眩光" ],
                        "opt_get_accept_price_range_2":  [ "夜間眩光" ]
                    },
                    "next_subtask": {
                        
                        "opt_get_accept_price_range": {
                            "是，可以接受夜間眩光": "opt_price_high_quality_or_conv",
                            "否，不能接受夜間眩光": "opt_price_high_decide_mono_or_short",
                            "是": "opt_price_high_quality_or_conv",
                            "否": "opt_price_high_decide_mono_or_short",
                            "可以接受夜間眩光": "opt_price_high_quality_or_conv",
                            "不能接受夜間眩光": "opt_price_high_decide_mono_or_short"
                        },

                        "opt_get_accept_price_range_2": {
                            "是，可以接受夜間眩光": "opt_price_high_quality_or_conv",
                            "否，不能接受夜間眩光": "opt_price_high_decide_mono_or_short",
                            "是": "opt_price_high_quality_or_conv",
                            "否": "opt_price_high_decide_mono_or_short",
                            "可以接受夜間眩光": "opt_price_high_quality_or_conv",
                            "不能接受夜間眩光": "opt_price_high_decide_mono_or_short"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "opt_price_high_decide_mono_or_short": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對視力品質要求，讓使用者挑選適合單焦點或短延焦，判斷適合使用單焦點、短延焦人工水晶體，欄位名稱\"視力品質要求\"",

                    "require_infos": {
                        "視力品質要求": "您從以下選項中，挑選您可以接受的視力品質:，欄位名稱\"視力品質要求\"\n注意: 1.單焦點近/中/遠擇一\n2.短延焦可選近+中/中+遠\n3.選擇以外的距離皆須配戴眼鏡"                        
                    },

                    "options": {
                        "視力品質要求": [
                            "單焦點：單一距離看得清楚",
                            "短延焦：近中或中遠距離清楚可見"
                        ]
                    },
                    "output_infos": {
                        "焦點": [
                            "單焦點",
                            "短延焦"
                        ]
                    },
                    "input_info": {
                        "opt_price_glare_or_not": [ "焦點" ],
                        "opt_price_high_quality_or_conv": [ "焦點" ]
                    },
                    "next_subtask": {
                        "opt_price_glare_or_not": {
                            "單焦點": "opt_get_blue_light",
                            "短延焦": "opt_get_blue_light"
                        },

                        "opt_price_high_quality_or_conv": {
                            "單焦點": "opt_get_blue_light",
                            "短延焦": "opt_get_blue_light"
                        }
                    },
                    "next_tasks": []                
                }
            },

            "finish_price_judge5": {

                "import_subtask_module": "rag_module",
                "user_define_info": {
                    "subtask_intention": "根據使用者對視力品質、藍光需求需求，判斷並說明適合使用下列哪一種人工水晶體(只能挑一個)\n(1) 「單焦點」「非球面」「抗藍光黃片」 (2) 「單焦點」「非球面」 (3) 「短延焦」「非球面」「抗藍光黃片」 (4) 「短延焦」「非球面」，每個特徵按照選項都用「」包住\n\n接著請針對文件北榮-眼科人工水晶體自付差額品項，用markdown表格方式逐一詳細列出全部同時滿足'種類欄位完全符合下面使用者的要求(所有要求同時成立)和你判斷適合的人工水晶體種類'條件的廠商人工水晶體中英文特材品名以及詳細的所有價格(醫院單價、健保給付、自費差額)，注意輸出的數字和特材品名需和文件北榮-眼科人工水晶體自付差額品項表格內容完全相同，除了markdown表格外須說明為何選擇此水晶體種類不用對廠牌有其他的描述，每個特徵按照選項都用「」包住",

                    "require_infos": {
                        "藍光": "是否需要抗藍光功能", 
                        "焦點": "適合使用哪種焦點/焦段種類" 
                    },
                    "options": {

                        "藍光": [
                            "抗藍光",
                            "不用抗藍光"
                        ],

                        "焦點": [
                            "單焦點",
                            "短延焦"
                        ]
                    },
                    "output_infos": {
                        "人工水晶體種類": [
                            "「單焦點」「非球面」「抗藍光黃片」",
                            "「單焦點」「非球面」",
                            "「短延焦」「非球面」「抗藍光黃片」",
                            "「短延焦」「非球面」"
                        ]
                    },
                    "input_info": {
                        "opt_price_high_decide_mono_or_short": [ "焦點" ],
                        "opt_get_blue_light":  [ "藍光" ]
                    },
                    "next_subtask": {},
                    "next_tasks": [ "ask_lensx" ]              
                }
                
            },

            "opt_price_high_quality_or_conv": {
                "import_subtask_module": "request_info_module",
                "user_define_info": {
                    "subtask_intention": "取得使用者對較重視的人工水晶體需求，判斷較視立品質、視立方便性，欄位名稱\"重視需求\"",

                    "require_infos": {
                        "重視需求": "您比較重視下列人工水晶體的哪一項表現？，欄位名稱\"重視需求\"\n注意: 1. 視立品質選擇以外的其他距離需要戴眼鏡\n2. 視立方便性會犧牲一些視覺品質"                        
                    },

                    "options": {
                        "重視需求": [
                            "視立品質：一段距離內視覺品質較高",
                            "視立方便性：大部分時間不需要戴眼鏡"
                        ]
                    },
                    "output_infos": {
                        "重視需求": [
                            "視立品質",
                            "視立方便性"
                        ]
                    },
                    "input_info": {
                        "opt_price_glare_or_not": [ "重視需求" ]
                    },
                    "next_subtask": {
                        "opt_price_glare_or_not": {
                            "視立品質": "opt_price_high_decide_mono_or_short",
                            "視立方便性": "opt_price_decide_long_or_multi"
                        }
                    },
                    "next_tasks": []                
                }
            }
        


        }
        
    ]
}